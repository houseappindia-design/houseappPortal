import{t as j,q as v,r as l,bs as p,j as a,bt as b}from"./index-B1PDI0VP.js";import{R as I}from"./react-stars-EutKYq1h.js";import{I as R}from"./index-CVqXQyeI.js";import{F as y}from"./Table-CgjYfbcH.js";import{S as g}from"./index-Dir3695H.js";import{S as L}from"./Pagination-DJxWdxtc.js";import{T as N}from"./BaseInput-BmM1wVrK.js";import{B as A}from"./button-uiK9lSco.js";import{R as D}from"./DeleteOutlined-lxI-FU5t.js";import{M as P}from"./index-DlUi6OX4.js";import"./Input-CA2Y1zHY.js";import"./getAllowClear-CZsY42AH.js";import"./useBreakpoint-CPp275PT.js";import"./TextArea-D4H2KN6-.js";import"./styleChecker-BpM-eQ3-.js";import"./addEventListener-aeVG5Cin.js";import"./LeftOutlined-BqftuEcT.js";import"./EllipsisOutlined-BMmItG2f.js";import"./index-CZdMhN2e.js";import"./DeleteOutlined-DFutYCzo.js";import"./ExclamationCircleFilled-DbwofjgQ.js";import"./InfoCircleFilled-C4VZ8Ms6.js";import"./index-Ct74qDyy.js";import"./fade-BIKMM1lP.js";const{Option:T}=g,{confirm:le}=P,me=()=>{const s=j(),{reviews:u=[],total:m=0,page:M=1,limit:k=10,loading:h,message:z,error:B}=v(e=>e.agents),[i,f]=l.useState(""),[o,x]=l.useState(10),[n,c]=l.useState(1);l.useEffect(()=>{s(p({page:n,pageSize:o}))},[s,n,o]);const w=e=>{console.log(e),s(b(e.id)),s(p({page:n,pageSize:o}))},C=u.filter(e=>{var t,r,d;return((t=e.agent_name)==null?void 0:t.toLowerCase().includes(i.toLowerCase()))||((r=e.user_name)==null?void 0:r.toLowerCase().includes(i.toLowerCase()))||((d=e.comment)==null?void 0:d.toLowerCase().includes(i.toLowerCase()))}),_=[{title:"Sr.No",render:(e,t,r)=>(n-1)*o+r+1,width:60},{title:"Agent Name",dataIndex:"agent_name",sorter:(e,t)=>e.agent_name.localeCompare(t.agent_name)},{title:"Agent Phone Number",dataIndex:"agent_phone",sorter:(e,t)=>e.agent_name.localeCompare(t.agent_name)},{title:"User Name",dataIndex:"user_name",sorter:(e,t)=>e.user_name.localeCompare(t.user_name)},{title:"User Phone Number",dataIndex:"user_phone",sorter:(e,t)=>e.agent_name.localeCompare(t.agent_name)},{title:"Comment",dataIndex:"comment"},{title:"Rating",dataIndex:"rating",ket:"rating",sorter:(e,t)=>e.agent_name.localeCompare(t.agent_name),render:(e,t)=>a.jsx(I,{count:5,value:e,edit:!1,size:16,isHalf:!0,activeColor:"#ffd700"})},{title:"Created At",dataIndex:"created_at",render:e=>new Date(e).toLocaleString()},{title:"Actions",render:(e,t)=>a.jsx(L,{children:a.jsx(N,{title:"Delete",children:a.jsx(A,{danger:!0,icon:a.jsx(D,{}),onClick:()=>w(t)})})})}],S=()=>{const e=(n-1)*o+1,t=Math.min(n*o,m);return a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsxs("div",{children:["Showing ",e," to ",t," of ",m," entries"]}),a.jsxs("div",{children:["Show  ",a.jsx(g,{value:o,onChange:r=>{x(r),c(1)},size:"small",style:{width:100},children:[5,10,20,50,100].map(r=>a.jsx(T,{value:r,children:r},r))}),"  entries"]})]})};return a.jsxs("div",{className:"review-container",children:[a.jsx(R,{placeholder:"Search by agent/user/comment",value:i,onChange:e=>f(e.target.value),style:{marginBottom:16,width:300}}),a.jsx(y,{columns:_,dataSource:C,rowKey:"id",loading:h,pagination:{current:n,pageSize:o,total:m,onChange:c,showSizeChanger:!1},footer:S,bordered:!0,rowClassName:(e,t)=>t%2===0?"table-row-light":"table-row-dark"})]})};export{me as default};
